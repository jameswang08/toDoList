(()=>{"use strict";var t={426:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(537),r=n.n(i),o=n(645),a=n.n(o)()(r());a.push([t.id,"html, body, ul,\nh1, h2, h3{\n    margin: 0;\n    padding: 0;\n}\n\n.container{\n    display: flex;\n    height: 100vh;\n}\n\n.ProjectContainer{\n    border-right: 1px solid black;\n}\n\n.tasks{\n    flex: 1 1 0;\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 200px);\n    grid-auto-rows: 300px;\n}\n\n.task,\n.add{\n    border: 2px solid black;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    overflow: hidden;\n}\n\n.addProject{\n    display: flex;\n    flex-direction: column;\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;;IAEI,SAAS;IACT,UAAU;AACd;;AAEA;IACI,aAAa;IACb,aAAa;AACjB;;AAEA;IACI,6BAA6B;AACjC;;AAEA;IACI,WAAW;IACX,aAAa;IACb,+CAA+C;IAC/C,qBAAqB;AACzB;;AAEA;;IAEI,uBAAuB;IACvB,aAAa;IACb,sBAAsB;IACtB,2BAA2B;IAC3B,uBAAuB;IACvB,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,sBAAsB;AAC1B",sourcesContent:["html, body, ul,\nh1, h2, h3{\n    margin: 0;\n    padding: 0;\n}\n\n.container{\n    display: flex;\n    height: 100vh;\n}\n\n.ProjectContainer{\n    border-right: 1px solid black;\n}\n\n.tasks{\n    flex: 1 1 0;\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 200px);\n    grid-auto-rows: 300px;\n}\n\n.task,\n.add{\n    border: 2px solid black;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    overflow: hidden;\n}\n\n.addProject{\n    display: flex;\n    flex-direction: column;\n}"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(a[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);i&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(r," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var o={},a=[],s=0;s<t.length;s++){var d=t[s],c=i.base?d[0]+i.base:d[0],l=o[c]||0,u="".concat(c," ").concat(l);o[c]=l+1;var p=n(u),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var h=r(m,i);i.byIndex=s,e.splice(s,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var d=i(t,r),c=0;c<o.length;c++){var l=n(o[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=d}}},569:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(379),e=n.n(t),i=n(795),r=n.n(i),o=n(569),a=n.n(o),s=n(565),d=n.n(s),c=n(216),l=n.n(c),u=n(589),p=n.n(u),m=n(426),h={};h.styleTagTransform=p(),h.setAttributes=d(),h.insert=a().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=l(),e()(m.Z,h),m.Z&&m.Z.locals&&m.Z.locals;const f=class{constructor(t,e,n,i){this.name=t,this.priority=e,this.date=n,this.description=i,this.edit=!1}isEditing(){return!!this.edit}toggleEdit(){this.edit=!this.edit}update(t,e,n,i){this.name=t,this.priority=e,this.date=n,this.description=i}display(){const t=document.createElement("div");document.createElement("ion-icon").setAttribute("name","pencil");const e=document.createElement("h2");e.textContent=this.name,t.appendChild(e);const n=document.createElement("h3");n.textContent=`Priority: ${this.priority}`,t.appendChild(n);const i=document.createElement("h3");i.textContent=`Date: ${this.date}`,t.appendChild(i);const r=document.createElement("p");return r.textContent=`Description: ${this.description}`,t.appendChild(r),t.classList.add("task"),t}},y=class{constructor(t){this.name=t,this.taskList=[]}editSubmit(t,e,n){e.preventDefault();const i=document.getElementById("name").value,r=document.getElementById("priority").value,o=document.getElementById("date").value,a=document.getElementById("description").value;this.taskList[n].update(i,r,o,a),t.toggleEdit(),window.localStorage.setItem(`Project: ${this.name} Task: ${t.name}`,JSON.stringify(t))}createEditForm(t,e,n){let i=document.createElement("form");function r(t,e){let n=document.createElement(t);for(let t in e)"textContent"===t?n.textContent=e[t]:n.setAttribute(t,e[t]);return n}i.className="edit",[{label:"Task Name:",input:"name",type:"text",required:!0},{label:"Priority:",input:"priority",type:"select",options:["Low","Medium","High"]},{label:"Date:",input:"date",type:"datetime-local"},{label:"Description:",input:"description",type:"textarea",required:!0}].forEach((function(e){let n,o=r("label",{for:e.input,textContent:e.label});i.appendChild(o),"select"===e.type?(n=r("select",{name:e.input,id:e.input}),e.options.forEach((function(i){let o=r("option",{value:i.toLowerCase(),textContent:i});t[e.input]===i&&(o.selected=!0),n.appendChild(o)}))):"textarea"===e.type?(n=r("textarea",{id:e.input,name:e.input,required:e.required}),n.textContent=t[e.input]):n=r("input",{type:e.type,id:e.input,name:e.input,value:t[e.input]}),i.appendChild(n)}));let o=r("input",{type:"submit",value:"Submit",id:"submit"});i.appendChild(o),i.addEventListener("submit",(i=>{for(this.editSubmit(t,i,n);e.firstChild;)e.removeChild(e.firstChild);this.displayTasks()})),e.appendChild(i)}addButtons(t,e){const n=document.createElement("div"),i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("viewBox","0 0 24 24"),i.innerHTML='\n          <title>trash-can-outline</title>\n          <path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z" />\n        ',i.style.width="30px",i.style.height="auto",i.addEventListener("click",(()=>{t.remove();const n=this.taskList.indexOf(e);-1!==n&&(this.taskList.splice(n,1),window.localStorage.removeItem(`Project: ${this.name} Task: ${e.name}`)),this.displayTasks()}));const r=document.createElementNS("http://www.w3.org/2000/svg","svg");return r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("viewBox","0 0 24 24"),r.innerHTML='\n        <title>pencil</title><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" />',r.style.width="30px",r.style.height="auto",r.addEventListener("click",(()=>{for(;t.firstChild;)t.removeChild(t.firstChild);const n=this.taskList.indexOf(e);this.createEditForm(e,t,n)})),n.appendChild(i),n.appendChild(r),n}addTask(t){this.taskList.push(t),window.localStorage.setItem(`Project: ${this.name} Task: ${t.name}`,JSON.stringify(t))}displayTasks(){const t=document.querySelector(".tasks");t.querySelectorAll(".task").forEach((e=>{t.removeChild(e)})),this.taskList.forEach((e=>{let n=e.display(),i=this.addButtons(n,e);n.insertBefore(i,n.firstChild),t.insertBefore(n,t.firstChild)}))}},v=class{constructor(t){this.projList=[t],this.projInView=t,t.displayTasks(),window.localStorage.setItem(`${t.name}`,JSON.stringify(t))}getCurrentProjectInView(){return this.projInView}addProject(t){this.projList.push(t),window.localStorage.setItem(`${t.name}`,JSON.stringify(t))}displayProjects(){const t=document.querySelector(".projects");for(;t.firstChild;)t.removeChild(t.firstChild);const e=document.querySelector(".projects");this.projList.forEach((t=>{const n=document.createElement("li");n.innerText=t.name,n.addEventListener("click",(()=>{this.projInView=t,t.displayTasks()})),e.appendChild(n)}))}},A=/Project: (.+?) Task:/,g=document.querySelector(".add");g.addEventListener("submit",(t=>{t.preventDefault();const e=document.getElementById("name").value,n=document.getElementById("priority").value,i=document.getElementById("date").value,r=document.getElementById("description").value;let o=new f(e,n,i,r);w.getCurrentProjectInView().addTask(o),g.reset(),w.getCurrentProjectInView().displayTasks()}));const C=document.querySelector(".addProject");if(C.addEventListener("submit",(t=>{t.preventDefault();const e=document.getElementById("projName").value;w.addProject(new y(e)),w.displayProjects(),C.reset()})),0==window.localStorage.length){let t=new y("Example Project"),e=new f("Example Task","low","today","Lorem Ipsum");t.addTask(e);var w=new v(t)}else{const t=Object.keys(localStorage);t.sort((function(t,e){const n=t.match(A),i=e.match(A);return!n&&i?-1:n&&!i?1:0}));for(let e=0;e<t.length;e++){const n=t[e],i=n.match(A);let r=JSON.parse(window.localStorage.getItem(n));if(0!=e)if(i&&i[1]){let t=new f(r.name,r.priority,r.date,r.description);w.projList.find((t=>t.name==i[1])).addTask(t)}else{let t=new y(r.name,[]);w.addProject(t)}else w=new v(new y(r.name,[]))}}w.displayProjects(),w.getCurrentProjectInView().displayTasks()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUcrRixHQUNyQixNQUFNQyxFQUFTaEcsRUFBRWlHLE1BQU1YLEdBQ2pCWSxFQUFTSCxFQUFFRSxNQUFNWCxHQUV2QixPQUFLVSxHQUFVRSxHQUFnQixFQUN0QkYsSUFBV0UsRUFBZSxFQUN2QixDQUNkLElBaURFLElBQUksSUFBSTVMLEVBQUksRUFBR0EsRUFBSXVMLEVBQUt6TCxPQUFRRSxJQUFJLENBRWxDLE1BQU00RixFQUFNMkYsRUFBS3ZMLEdBQ1gyTCxFQUFRL0YsRUFBSStGLE1BQU1YLEdBRXhCLElBQUl0TCxFQUFPcUIsS0FBSzhLLE1BQU1ySSxPQUFPMkUsYUFBYTJELFFBQVFsRyxJQUdsRCxHQUFNLEdBQUg1RixFQU1ILEdBQUcyTCxHQUFTQSxFQUFNLEdBQUcsQ0FFbkIsSUFBSUksRUFBVSxJQUFJLEVBQUtyTSxFQUFLbUgsS0FBTW5ILEVBQUtvSCxTQUFVcEgsRUFBS2lILEtBQU1qSCxFQUFLcUgsYUFFakUsRUFBVTBELFNBQVN1QixNQUFNQyxHQUFTQSxFQUFLcEYsTUFBUThFLEVBQU0sS0FBSTFCLFFBQVE4QixFQUNuRSxLQUVJLENBQ0YsSUFBSTVCLEVBQVUsSUFBSSxFQUFRekssRUFBS21ILEtBQU0sSUFDckMsRUFBVStELFdBQVdULEVBQ3ZCLE1BZE0sRUFBWSxJQUFJLEVBRE4sSUFBSSxFQUFRekssRUFBS21ILEtBQU0sSUFnQnpDLENBQ0YsQ0FDQSxFQUFVZ0Usa0JBQ1YsRUFBVUYsMEJBQTBCcEIsYyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9zdHlsZS5jc3M/NzE2MyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy90YXNrLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvZGFzaGJvYXJkLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGBodG1sLCBib2R5LCB1bCxcbmgxLCBoMiwgaDN7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG59XG5cbi5jb250YWluZXJ7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBoZWlnaHQ6IDEwMHZoO1xufVxuXG4uUHJvamVjdENvbnRhaW5lcntcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBibGFjaztcbn1cblxuLnRhc2tze1xuICAgIGZsZXg6IDEgMSAwO1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCAyMDBweCk7XG4gICAgZ3JpZC1hdXRvLXJvd3M6IDMwMHB4O1xufVxuXG4udGFzayxcbi5hZGR7XG4gICAgYm9yZGVyOiAycHggc29saWQgYmxhY2s7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uYWRkUHJvamVjdHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOztJQUVJLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLDZCQUE2QjtBQUNqQzs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IsK0NBQStDO0lBQy9DLHFCQUFxQjtBQUN6Qjs7QUFFQTs7SUFFSSx1QkFBdUI7SUFDdkIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QiwyQkFBMkI7SUFDM0IsdUJBQXVCO0lBQ3ZCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7QUFDMUJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiaHRtbCwgYm9keSwgdWwsXFxuaDEsIGgyLCBoM3tcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbn1cXG5cXG4uY29udGFpbmVye1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBoZWlnaHQ6IDEwMHZoO1xcbn1cXG5cXG4uUHJvamVjdENvbnRhaW5lcntcXG4gICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgYmxhY2s7XFxufVxcblxcbi50YXNrc3tcXG4gICAgZmxleDogMSAxIDA7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgMjAwcHgpO1xcbiAgICBncmlkLWF1dG8tcm93czogMzAwcHg7XFxufVxcblxcbi50YXNrLFxcbi5hZGR7XFxuICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uYWRkUHJvamVjdHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImNsYXNzIFRhc2t7XG4gICAgY29uc3RydWN0b3Iobm0sIHByaW8sIGRhdGUsIGRpc2Mpe1xuICAgICAgICB0aGlzLm5hbWUgPSBubTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW87XG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkaXNjO1xuICAgICAgICB0aGlzLmVkaXQgPSBmYWxzZTtcbiAgICB9XG4gICAgaXNFZGl0aW5nKCl7XG4gICAgICAgIGlmKHRoaXMuZWRpdCkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdG9nZ2xlRWRpdCgpe1xuICAgICAgICB0aGlzLmVkaXQgPSAhdGhpcy5lZGl0O1xuICAgIH1cbiAgICB1cGRhdGUobm0sIHByaW8sIGRhdGUsIGRpc2Mpe1xuICAgICAgICB0aGlzLm5hbWUgPSBubTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW87XG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkaXNjO1xuICAgIH1cbiAgICBkaXNwbGF5KCl7XG4gICAgICAgIGNvbnN0IHRhc2s9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGNvbnN0IGVkaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpb24taWNvbicpO1xuICAgICAgICBlZGl0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdwZW5jaWwnKTtcblxuICAgICAgICBjb25zdCB0YXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgICAgIHRhc2tOYW1lLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xuICAgICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tOYW1lKTtcblxuICAgICAgICBjb25zdCB0YXNrUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICB0YXNrUHJpb3JpdHkudGV4dENvbnRlbnQgPSBgUHJpb3JpdHk6ICR7dGhpcy5wcmlvcml0eX1gO1xuICAgICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tQcmlvcml0eSk7XG5cbiAgICAgICAgY29uc3QgdGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICB0YXNrRGF0ZS50ZXh0Q29udGVudCA9IGBEYXRlOiAke3RoaXMuZGF0ZX1gO1xuICAgICAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tEYXRlKTtcblxuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGBEZXNjcmlwdGlvbjogJHt0aGlzLmRlc2NyaXB0aW9ufWA7XG4gICAgICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uKTtcblxuICAgICAgICB0YXNrLmNsYXNzTGlzdC5hZGQoJ3Rhc2snKTtcblxuICAgICAgICByZXR1cm4gdGFzaztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRhc2s7IiwiY2xhc3MgUHJvamVjdHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9qTmFtZSl7XG4gICAgICAgIHRoaXMubmFtZT1wcm9qTmFtZTtcbiAgICAgICAgdGhpcy50YXNrTGlzdCA9IFtdO1xuICAgIH1cbiAgICBlZGl0U3VibWl0KGl0ZW0sIGV2ZW50LCBpbmRleCl7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgdGFza05hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZScpLnZhbHVlO1xuICAgICAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmlvcml0eScpLnZhbHVlO1xuICAgICAgICBjb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKS52YWx1ZTtcbiAgICAgICAgdGhpcy50YXNrTGlzdFtpbmRleF0udXBkYXRlKHRhc2tOYW1lLCBwcmlvcml0eSwgZGF0ZSwgZGVzY3JpcHRpb24pO1xuXG4gICAgICAgIGl0ZW0udG9nZ2xlRWRpdCgpO1xuXG4gICAgICAgIC8vVXBkYXRlIHRhc2sgaW4gbG9jYWwgc3RvcmFnZVxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYFByb2plY3Q6ICR7dGhpcy5uYW1lfSBUYXNrOiAke2l0ZW0ubmFtZX1gLCBKU09OLnN0cmluZ2lmeShpdGVtKSk7XG4gICAgfVxuICAgIGNyZWF0ZUVkaXRGb3JtKHRhc2tFbGVtZW50LCB0YXNrLCBpbmRleCl7XG4gICAgICAgIC8vIENyZWF0ZSBmb3JtIGVsZW1lbnRcbiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICAgICAgZm9ybS5jbGFzc05hbWUgPSBcImVkaXRcIjtcblxuICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGFuZCBhcHBlbmQgZm9ybSBlbGVtZW50c1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVGb3JtRWxlbWVudCh0YWcsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcInRleHRDb250ZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH0gICAgICAgIFxuXG4gICAgICAgIC8vIExhYmVscyBhbmQgaW5wdXQgdmFsdWVzIGJhc2VkIG9uIHRhc2sgb2JqZWN0XG4gICAgICAgIGxldCBsYWJlbHNBbmRJbnB1dHMgPSBbXG4gICAgICAgICAgICB7IGxhYmVsOiBcIlRhc2sgTmFtZTpcIiwgaW5wdXQ6IFwibmFtZVwiLCB0eXBlOiBcInRleHRcIiwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbGFiZWw6IFwiUHJpb3JpdHk6XCIsIGlucHV0OiBcInByaW9yaXR5XCIsIHR5cGU6IFwic2VsZWN0XCIsIG9wdGlvbnM6IFtcIkxvd1wiLCBcIk1lZGl1bVwiLCBcIkhpZ2hcIl0gfSxcbiAgICAgICAgICAgIHsgbGFiZWw6IFwiRGF0ZTpcIiwgaW5wdXQ6IFwiZGF0ZVwiLCB0eXBlOiBcImRhdGV0aW1lLWxvY2FsXCIgfSxcbiAgICAgICAgICAgIHsgbGFiZWw6IFwiRGVzY3JpcHRpb246XCIsIGlucHV0OiBcImRlc2NyaXB0aW9uXCIsIHR5cGU6IFwidGV4dGFyZWFcIiwgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBsYWJlbHMgYW5kIGlucHV0cyBhcnJheSBhbmQgY3JlYXRlIGZvcm0gZWxlbWVudHNcbiAgICAgICAgbGFiZWxzQW5kSW5wdXRzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgbGV0IGxhYmVsID0gY3JlYXRlRm9ybUVsZW1lbnQoXCJsYWJlbFwiLCB7IGZvcjogaXRlbS5pbnB1dCwgdGV4dENvbnRlbnQ6IGl0ZW0ubGFiZWwgfSk7XG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGxhYmVsKTtcblxuICAgICAgICAgICAgbGV0IGlucHV0O1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gY3JlYXRlRm9ybUVsZW1lbnQoXCJzZWxlY3RcIiwgeyBuYW1lOiBpdGVtLmlucHV0LCBpZDogaXRlbS5pbnB1dCB9KTtcbiAgICAgICAgICAgICAgICBpdGVtLm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wdGlvbkVsZW1lbnQgPSBjcmVhdGVGb3JtRWxlbWVudChcIm9wdGlvblwiLCB7IHZhbHVlOiBvcHRpb24udG9Mb3dlckNhc2UoKSwgdGV4dENvbnRlbnQ6IG9wdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2tFbGVtZW50W2l0ZW0uaW5wdXRdID09PSBvcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFwidGV4dGFyZWFcIikge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gY3JlYXRlRm9ybUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCB7IGlkOiBpdGVtLmlucHV0LCBuYW1lOiBpdGVtLmlucHV0LCByZXF1aXJlZDogaXRlbS5yZXF1aXJlZCB9KTtcbiAgICAgICAgICAgICAgICBpbnB1dC50ZXh0Q29udGVudCA9IHRhc2tFbGVtZW50W2l0ZW0uaW5wdXRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGNyZWF0ZUZvcm1FbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlucHV0LFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLmlucHV0LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGFza0VsZW1lbnRbaXRlbS5pbnB1dF0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuZCBhcHBlbmQgaW5wdXQgZm9yIFN1Ym1pdCBidXR0b25cbiAgICAgICAgbGV0IHN1Ym1pdElucHV0ID0gY3JlYXRlRm9ybUVsZW1lbnQoXCJpbnB1dFwiLCB7IHR5cGU6IFwic3VibWl0XCIsIHZhbHVlOiBcIlN1Ym1pdFwiLCBpZDogXCJzdWJtaXRcIiB9KTtcblxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdElucHV0KTtcblxuICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lZGl0U3VibWl0KHRhc2tFbGVtZW50LCBldmVudCwgaW5kZXgpO1xuICAgICAgICAgICAgLy9DbGVhciBmb3JtXG4gICAgICAgICAgICB3aGlsZSh0YXNrLmZpcnN0Q2hpbGQpIHRhc2sucmVtb3ZlQ2hpbGQodGFzay5maXJzdENoaWxkKTtcblxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGFza3MoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQXBwZW5kIHRoZSBmb3JtIHRvIHRoZSBkb2N1bWVudCBib2R5XG4gICAgICAgIHRhc2suYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgfVxuICAgIGFkZEJ1dHRvbnModGFzaywgdGFza0VsZW1lbnQpe1xuICAgICAgICBjb25zdCBjb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgLy9EZWxldGUgYnV0dG9uXG4gICAgICAgIGNvbnN0IGRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICBkZWwuc2V0QXR0cmlidXRlKFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcbiAgICAgICAgZGVsLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgMjQgMjRcIik7XG4gICAgICAgIGRlbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHRpdGxlPnRyYXNoLWNhbi1vdXRsaW5lPC90aXRsZT5cbiAgICAgICAgICA8cGF0aCBkPVwiTTksM1Y0SDRWNkg1VjE5QTIsMiAwIDAsMCA3LDIxSDE3QTIsMiAwIDAsMCAxOSwxOVY2SDIwVjRIMTVWM0g5TTcsNkgxN1YxOUg3VjZNOSw4VjE3SDExVjhIOU0xMyw4VjE3SDE1VjhIMTNaXCIgLz5cbiAgICAgICAgYDtcbiAgICAgICAgZGVsLnN0eWxlLndpZHRoID0nMzBweCc7XG4gICAgICAgIGRlbC5zdHlsZS5oZWlnaHQ9J2F1dG8nO1xuICAgICAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0YXNrLnJlbW92ZSgpXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudGFza0xpc3QuaW5kZXhPZih0YXNrRWxlbWVudCk7XG4gICAgICAgICAgICBpZihpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhc2tMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGBQcm9qZWN0OiAke3RoaXMubmFtZX0gVGFzazogJHt0YXNrRWxlbWVudC5uYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9SZWZyZXNoIHRhc2sgcGFnZVxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGFza3MoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9FZGl0IGJ1dHRvblxuICAgICAgICBjb25zdCBlZGl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIGVkaXQuc2V0QXR0cmlidXRlKFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcbiAgICAgICAgZWRpdC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDI0IDI0XCIpO1xuICAgICAgICBlZGl0LmlubmVySFRNTCA9IGBcbiAgICAgICAgPHRpdGxlPnBlbmNpbDwvdGl0bGU+PHBhdGggZD1cIk0yMC43MSw3LjA0QzIxLjEsNi42NSAyMS4xLDYgMjAuNzEsNS42M0wxOC4zNywzLjI5QzE4LDIuOSAxNy4zNSwyLjkgMTYuOTYsMy4yOUwxNS4xMiw1LjEyTDE4Ljg3LDguODdNMywxNy4yNVYyMUg2Ljc1TDE3LjgxLDkuOTNMMTQuMDYsNi4xOEwzLDE3LjI1WlwiIC8+YDtcbiAgICAgICAgZWRpdC5zdHlsZS53aWR0aCA9JzMwcHgnO1xuICAgICAgICBlZGl0LnN0eWxlLmhlaWdodD0nYXV0byc7XG4gICAgICAgIGVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAvL0NsZWFyIGN1cnJlbnQgdGFzayBjb250ZW50c1xuICAgICAgICAgICAgd2hpbGUodGFzay5maXJzdENoaWxkKSB0YXNrLnJlbW92ZUNoaWxkKHRhc2suZmlyc3RDaGlsZCk7XG5cbiAgICAgICAgICAgIC8vUmVwbGFjZSB3aXRoIGZvcm1cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy50YXNrTGlzdC5pbmRleE9mKHRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRWRpdEZvcm0odGFza0VsZW1lbnQsIHRhc2ssIGluZGV4KTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBjb250LmFwcGVuZENoaWxkKGRlbCk7XG4gICAgICAgIGNvbnQuYXBwZW5kQ2hpbGQoZWRpdCk7XG4gICAgICAgIHJldHVybiBjb250O1xuICAgIH1cbiAgICBhZGRUYXNrKHRhc2tPYmope1xuICAgICAgICB0aGlzLnRhc2tMaXN0LnB1c2godGFza09iaik7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShgUHJvamVjdDogJHt0aGlzLm5hbWV9IFRhc2s6ICR7dGFza09iai5uYW1lfWAsIEpTT04uc3RyaW5naWZ5KHRhc2tPYmopKTtcbiAgICB9XG4gICAgZGlzcGxheVRhc2tzKCl7XG4gICAgICAgIGNvbnN0IG5ld1Byb2ogPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcblxuICAgICAgICBjb25zdCB0YXNrRWxlbWVudHMgPSBuZXdQcm9qLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrJyk7XG4gICAgICAgIHRhc2tFbGVtZW50cy5mb3JFYWNoKHRhc2tFbGVtZW50ID0+IHtcbiAgICAgICAgICAgIG5ld1Byb2oucmVtb3ZlQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRhc2tMaXN0LmZvckVhY2goIGl0ZW0gPT4ge1xuICAgICAgICAgICAgbGV0IGFUYXNrID0gaXRlbS5kaXNwbGF5KClcbiAgICAgICAgICAgIGxldCBidXR0b25zID0gdGhpcy5hZGRCdXR0b25zKGFUYXNrLCBpdGVtKTtcbiAgICAgICAgICAgIGFUYXNrLmluc2VydEJlZm9yZShidXR0b25zLCBhVGFzay5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIG5ld1Byb2ouaW5zZXJ0QmVmb3JlKGFUYXNrLCBuZXdQcm9qLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2plY3QiLCJjbGFzcyBEYXNoYm9hcmR7XG4gICAgY29uc3RydWN0b3IoYVByb2plY3Qpe1xuICAgICAgICB0aGlzLnByb2pMaXN0ID0gW2FQcm9qZWN0XTtcbiAgICAgICAgdGhpcy5wcm9qSW5WaWV3ID0gYVByb2plY3Q7XG4gICAgICAgIGFQcm9qZWN0LmRpc3BsYXlUYXNrcygpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7YVByb2plY3QubmFtZX1gLCBKU09OLnN0cmluZ2lmeShhUHJvamVjdCkpO1xuICAgIH1cbiAgICBnZXRDdXJyZW50UHJvamVjdEluVmlldygpe1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qSW5WaWV3O1xuICAgIH1cbiAgICBhZGRQcm9qZWN0KG9iail7XG4gICAgICAgIHRoaXMucHJvakxpc3QucHVzaChvYmopO1xuICAgICAgICBcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke29iai5uYW1lfWAsIEpTT04uc3RyaW5naWZ5KG9iaikpO1xuICAgIH1cbiAgICBkaXNwbGF5UHJvamVjdHMoKXtcbiAgICAgICAgLy9DbGVhciBjdXJyZW50IHByb2plY3RzXG4gICAgICAgIGNvbnN0IGNvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMnKTtcbiAgICAgICAgd2hpbGUoY29udC5maXJzdENoaWxkKSBjb250LnJlbW92ZUNoaWxkKGNvbnQuZmlyc3RDaGlsZCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cycpO1xuICAgICAgICB0aGlzLnByb2pMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Byb2ogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgbmV3UHJvai5pbm5lclRleHQgPSBpdGVtLm5hbWU7XG5cbiAgICAgICAgICAgIG5ld1Byb2ouYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9qSW5WaWV3ID0gaXRlbTtcbiAgICAgICAgICAgICAgICBpdGVtLmRpc3BsYXlUYXNrcygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3UHJvaik7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhc2hib2FyZDsiLCJpbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBUYXNrIGZyb20gJy4vdGFzay5qcydcbmltcG9ydCBQcm9qZWN0IGZyb20gJy4vcHJvamVjdC5qcydcbmltcG9ydCBEYXNoIGZyb20gJy4vZGFzaGJvYXJkLmpzJ1xuXG4vL0N1c3RvbSBTb3J0IEhlbHBlciBGdW5jdGlvblxuY29uc3QgcmVnZXggPSAvUHJvamVjdDogKC4rPykgVGFzazovO1xuXG4vLyBDdXN0b20gc29ydGluZyBmdW5jdGlvblxuZnVuY3Rpb24gY3VzdG9tU29ydChhLCBiKSB7XG4gIGNvbnN0IG1hdGNoQSA9IGEubWF0Y2gocmVnZXgpO1xuICBjb25zdCBtYXRjaEIgPSBiLm1hdGNoKHJlZ2V4KTtcblxuICBpZiAoIW1hdGNoQSAmJiBtYXRjaEIpIHJldHVybiAtMTtcbiAgZWxzZSBpZiAobWF0Y2hBICYmICFtYXRjaEIpIHJldHVybiAxO1xuICBlbHNlIHJldHVybiAwO1xufVxuXG4vL05ldyBUYXNrXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZCcpO1xuXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCB0YXNrTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJykudmFsdWU7XG4gICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZTtcbiAgICBjb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZTtcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlO1xuXG4gICAgbGV0IG15VGFzayA9IG5ldyBUYXNrKHRhc2tOYW1lLCBwcmlvcml0eSwgZGF0ZSwgZGVzY3JpcHRpb24pO1xuICAgIGRhc2hib2FyZC5nZXRDdXJyZW50UHJvamVjdEluVmlldygpLmFkZFRhc2sobXlUYXNrKTtcbiAgICBmb3JtLnJlc2V0KCk7XG4gICAgZGFzaGJvYXJkLmdldEN1cnJlbnRQcm9qZWN0SW5WaWV3KCkuZGlzcGxheVRhc2tzKCk7XG59KTtcblxuLy9OZXcgUHJvamVjdFxuY29uc3QgbmV3UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGRQcm9qZWN0Jyk7XG5cbm5ld1Byb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgbmV3UHJvamVjdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvak5hbWUnKS52YWx1ZTtcbiAgZGFzaGJvYXJkLmFkZFByb2plY3QobmV3IFByb2plY3QobmV3UHJvamVjdE5hbWUpKTtcblxuICBkYXNoYm9hcmQuZGlzcGxheVByb2plY3RzKCk7XG5cbiAgbmV3UHJvamVjdC5yZXNldCgpO1xufSk7XG5cbi8vQ09ERSBUSEFUIElTIFJVTiBXSEVOIFVTRVIgQUNDRVNTRVMgU0lURVxuXG4vL0lmIHVzZXIgaGFzIHZpc2l0ZWQgc2l0ZSBhbHJlYWR5IGJlZm9yZSwgbG9hZCBwcmV2aW91cyBwcm9qZWN0cyBhbmQgdGFza3NcbmlmKHdpbmRvdy5sb2NhbFN0b3JhZ2UubGVuZ3RoPT0wKXtcbiAgbGV0IG15UHJvaiA9IG5ldyBQcm9qZWN0KFwiRXhhbXBsZSBQcm9qZWN0XCIpO1xuICBsZXQgc29tZVRhc2sgPSBuZXcgVGFzayhcIkV4YW1wbGUgVGFza1wiLCBcImxvd1wiLCBcInRvZGF5XCIsIFwiTG9yZW0gSXBzdW1cIik7XG4gIG15UHJvai5hZGRUYXNrKHNvbWVUYXNrKTtcblxuICAvL1ZhciBzbyB0aGF0IGRhc2hib2FyZCBwZXJzaXN0cyBvdXRzaWRlIG9mIHRoaXMgbG9vcFxuICB2YXIgZGFzaGJvYXJkID0gbmV3IERhc2gobXlQcm9qKTtcbn1cbi8vT3RoZXJ3aXNlIGNyZWF0ZSBhbiBleGFtcGVsZSBwcm9qZWN0IGFuZCB0YXNrXG5lbHNle1xuICAvL1NvcnQgbG9jYWwgZGF0YSBzbyB0aGF0IHByb2plY3RzIGFsd2F5cyBjb21lIGJlZm9yZSB0YXNrc1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKTtcbiAga2V5cy5zb3J0KGN1c3RvbVNvcnQpO1xuICBmb3IobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKyl7XG5cbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgIGNvbnN0IG1hdGNoID0ga2V5Lm1hdGNoKHJlZ2V4KTtcblxuICAgIGxldCBpdGVtID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG5cbiAgICAvL0ZpcnN0IGtleSBpbiBzdG9yYWdlIHdpbGwgYWx3YXlzIGJlIGEgcHJvamVjdFxuICAgIGlmKGk9PTApe1xuICAgICAgbGV0IG5ld1Byb2ogPSBuZXcgUHJvamVjdChpdGVtLm5hbWUsIFtdKTtcbiAgICAgIHZhciBkYXNoYm9hcmQgPSBuZXcgRGFzaChuZXdQcm9qKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvL0lmIHRoZSBrZXkgaW4gc3RvcmFnZSBjb250YWlucyBhIHRhc2tcbiAgICBpZihtYXRjaCAmJiBtYXRjaFsxXSl7XG4gICAgICAvL0NyZWF0ZSBuZXcgdGFzayBvYmplY3Qgc28gdGhhdCBpdCByZXRhaW5zIGl0cyBtZXRob2RzXG4gICAgICBsZXQgbmV3VGFzayA9IG5ldyBUYXNrKGl0ZW0ubmFtZSwgaXRlbS5wcmlvcml0eSwgaXRlbS5kYXRlLCBpdGVtLmRlc2NyaXB0aW9uKTtcbiAgICAgIC8vRmluZCBwcm9qZWN0IGluIERhc2hib2FyZCBhbmQgYWRkIHRhc2sgdG8gaXRcbiAgICAgIGRhc2hib2FyZC5wcm9qTGlzdC5maW5kKChwcm9qKSA9PiBwcm9qLm5hbWUgPT0gbWF0Y2hbMV0pLmFkZFRhc2sobmV3VGFzayk7XG4gICAgfVxuICAgIC8vT3RoZXJ3aXNlIGlmIHRoZSBrZXkgY29udGFpbnMgYSBwcm9qZWN0XG4gICAgZWxzZXtcbiAgICAgIGxldCBuZXdQcm9qID0gbmV3IFByb2plY3QoaXRlbS5uYW1lLCBbXSk7XG4gICAgICBkYXNoYm9hcmQuYWRkUHJvamVjdChuZXdQcm9qKTtcbiAgICB9XG4gIH1cbn1cbmRhc2hib2FyZC5kaXNwbGF5UHJvamVjdHMoKTtcbmRhc2hib2FyZC5nZXRDdXJyZW50UHJvamVjdEluVmlldygpLmRpc3BsYXlUYXNrcygpOyJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJsb2NhbHMiLCJjb25zdHJ1Y3RvciIsIm5tIiwicHJpbyIsImRhdGUiLCJkaXNjIiwibmFtZSIsInByaW9yaXR5IiwiZGVzY3JpcHRpb24iLCJlZGl0IiwiaXNFZGl0aW5nIiwidG9nZ2xlRWRpdCIsImRpc3BsYXkiLCJ0YXNrIiwidGFza05hbWUiLCJ0ZXh0Q29udGVudCIsInRhc2tQcmlvcml0eSIsInRhc2tEYXRlIiwidGFza0Rlc2NyaXB0aW9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicHJvak5hbWUiLCJ0YXNrTGlzdCIsImVkaXRTdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJjcmVhdGVFZGl0Rm9ybSIsInRhc2tFbGVtZW50IiwiZm9ybSIsImNyZWF0ZUZvcm1FbGVtZW50IiwidGFnIiwiY2xhc3NOYW1lIiwibGFiZWwiLCJpbnB1dCIsInR5cGUiLCJyZXF1aXJlZCIsImZvckVhY2giLCJmb3IiLCJvcHRpb24iLCJvcHRpb25FbGVtZW50IiwidG9Mb3dlckNhc2UiLCJzZWxlY3RlZCIsInN1Ym1pdElucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc3BsYXlUYXNrcyIsImFkZEJ1dHRvbnMiLCJjb250IiwiZGVsIiwiY3JlYXRlRWxlbWVudE5TIiwiaW5uZXJIVE1MIiwid2lkdGgiLCJoZWlnaHQiLCJpbmRleE9mIiwicmVtb3ZlSXRlbSIsImFkZFRhc2siLCJ0YXNrT2JqIiwibmV3UHJvaiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhVGFzayIsImJ1dHRvbnMiLCJpbnNlcnRCZWZvcmUiLCJhUHJvamVjdCIsInByb2pMaXN0IiwicHJvakluVmlldyIsImdldEN1cnJlbnRQcm9qZWN0SW5WaWV3IiwiYWRkUHJvamVjdCIsImRpc3BsYXlQcm9qZWN0cyIsInByb2plY3RDb250YWluZXIiLCJpbm5lclRleHQiLCJyZWdleCIsIm15VGFzayIsInJlc2V0IiwibmV3UHJvamVjdCIsIm5ld1Byb2plY3ROYW1lIiwibXlQcm9qIiwic29tZVRhc2siLCJrZXlzIiwic29ydCIsImIiLCJtYXRjaEEiLCJtYXRjaCIsIm1hdGNoQiIsInBhcnNlIiwiZ2V0SXRlbSIsIm5ld1Rhc2siLCJmaW5kIiwicHJvaiJdLCJzb3VyY2VSb290IjoiIn0=